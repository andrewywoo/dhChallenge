{"version":3,"sources":["components/CardList/Card/Card.js","components/CardList/CardList.js","components/SearchBar/SearchBar.js","containers/Products/Products.js","App.js","index.js"],"names":["Card","props","className","name","type","cardList","products","map","p","key","id","collection","searchBar","for","onChange","onSearchByIngredientsHandler","bind","value","ingredients","i","Products","state","productList","sortByIngredient","memoizedSortByIngredient","memoize","event","ingredientId","target","this","setState","ingredient","filter","ingredient_ids","includes","func","cache","JSON","stringify","console","log","Component","App","axios","get","then","res","data","productsContainer","length","ReactDOM","render","document","getElementById"],"mappings":"2XAeeA,G,MAZF,SAAAC,GACX,OACE,yBAAKC,UAAU,QACb,yBAAKA,UAAU,aACb,gDACA,6BAAMD,EAAME,MACZ,yBAAKD,UAAU,aAAf,SAAkCD,EAAMG,UCKjCC,G,MAVE,SAAAJ,GACf,OACE,yBAAKC,UAAU,aACZD,EAAMK,SAASC,KAAI,SAAAC,GAAC,OACnB,kBAAC,EAAD,CAAMC,IAAKD,EAAEE,GAAIP,KAAMK,EAAEL,KAAMC,KAAMI,EAAEG,mBCehCC,G,MApBG,SAAAX,GAChB,OACE,oCACE,2BAAOY,IAAI,eAAX,yBACA,4BACEX,UAAU,YACVC,KAAK,cACLW,SAAUb,EAAMc,6BAA6BC,U,IAE7C,4BAAQC,MAAM,OAAd,OACChB,EAAMiB,YAAYX,KAAI,SAAAY,GAAC,OACtB,4BAAQV,IAAKU,EAAET,GAAIO,MAAOE,EAAET,IACzBS,EAAEhB,a,6jBC8DAiB,E,YAxEb,WAAYnB,GAAQ,IAAD,8BACjB,4CAAMA,KACDoB,MAAQ,CACXC,YAAarB,EAAMK,UAGrB,EAAKS,6BAA+B,EAAKA,6BAA6BC,KAAlC,gBAGpC,EAAKO,iBAAmB,EAAKA,iBAAiBP,KAAtB,gBACxB,EAAKQ,yBAA2B,EAAKC,QAAQ,EAAKF,kBAVjC,E,0FAaUG,GAC3B,IAAMC,GAAgBD,EAAME,OAAOX,MAER,QAAvBS,EAAME,OAAOX,MACfY,KAAKC,SAAL,KACKD,KAAKR,MADV,CAEEC,YAAaO,KAAK5B,MAAMK,YAG1BuB,KAAKC,SAAL,KACKD,KAAKR,MADV,CAEEC,YAAaO,KAAKL,yBAAyBG,Q,uCAMhCI,GAOf,OANiBF,KAAK5B,MAAMK,SAEN0B,QAAO,SAAAxB,GAC3B,OAAOA,EAAEyB,eAAeC,SAASH,Q,8BAO7BI,GACN,IAAIC,EAAQ,GACZ,OAAO,WACL,IAAI3B,EAAM4B,KAAKC,UAAL,MAAAD,KAAI,WAEd,OADAE,QAAQC,IAAI,QAASJ,GACjBA,EAAM3B,IACR8B,QAAQC,IAAI,qBACLJ,EAAM3B,KAEb8B,QAAQC,IAAI,6BACZJ,EAAM3B,GAAO0B,EAAI,WAAJ,aACNC,EAAM3B,O,+BAMjB,IAAIa,EAAcO,KAAKR,MAAMC,YAE7B,OACE,oCACE,kBAAC,EAAD,CACEJ,YAAaW,KAAK5B,MAAMiB,YACxBH,6BAA8Bc,KAAKd,+BAErC,kBAAC,EAAD,CAAUT,SAAUgB,S,GAnELmB,a,6jBCiDRC,E,YA/Cb,WAAYzC,GAAQ,IAAD,8BACjB,4CAAMA,KACDoB,MAAQ,CACXH,YAAa,GACbZ,SAAU,IAJK,E,iFAQE,IAAD,OAClBqC,IAAMC,IAAI,sBAAsBC,MAAK,SAAAC,GACnC,EAAKhB,SAAL,KAAmB,EAAKT,MAAxB,CAA+BH,YAAa4B,EAAIC,KAAK7B,kBAEvDyB,IAAMC,IAAI,mBAAmBC,MAAK,SAAAC,GAChC,EAAKhB,SAAL,KAAmB,EAAKT,MAAxB,CAA+Bf,SAAUwC,EAAIC,KAAKzC,iB,+BAKpD,IAAI0C,EAgBJ,OAVEA,EAH+B,IAA/BnB,KAAKR,MAAMf,SAAS2C,QACc,IAAlCpB,KAAKR,MAAMH,YAAY+B,OAEH,2CAGlB,kBAAC,EAAD,CACE3C,SAAUuB,KAAKR,MAAMf,SACrBY,YAAaW,KAAKR,MAAMH,cAM5B,yBAAKhB,UAAU,OACb,4BAAQA,UAAU,cAChB,wDAID8C,O,GA1CSP,aCAlBS,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ab9040a8.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Card.css\";\n\nconst Card = props => {\n  return (\n    <div className=\"card\">\n      <div className=\"container\">\n        <strong>Product Name</strong>\n        <div>{props.name}</div>\n        <div className=\"card_type\">Type: {props.type}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card/Card\";\nimport \"./CardList.css\";\n\nconst cardList = props => {\n  return (\n    <div className=\"card-list\">\n      {props.products.map(p => (\n        <Card key={p.id} name={p.name} type={p.collection} />\n      ))}\n    </div>\n  );\n};\n\nexport default cardList;\n","import React from \"react\";\nimport \"./SearchBar.css\";\n\nconst searchBar = props => {\n  return (\n    <>\n      <label for=\"ingredients\">Search By Ingredients</label>\n      <select\n        className=\"searchBar\"\n        name=\"ingredients\"\n        onChange={props.onSearchByIngredientsHandler.bind(this)}\n      >\n        <option value=\"All\">All</option>\n        {props.ingredients.map(i => (\n          <option key={i.id} value={i.id}>\n            {i.name}\n          </option>\n        ))}\n      </select>\n    </>\n  );\n};\n\nexport default searchBar;\n","import React, { Component } from \"react\";\nimport CardList from \"../../components/CardList/CardList\";\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productList: props.products\n    };\n\n    this.onSearchByIngredientsHandler = this.onSearchByIngredientsHandler.bind(\n      this\n    );\n    this.sortByIngredient = this.sortByIngredient.bind(this);\n    this.memoizedSortByIngredient = this.memoize(this.sortByIngredient);\n  }\n\n  onSearchByIngredientsHandler(event) {\n    const ingredientId = +event.target.value;\n\n    if (event.target.value === \"All\") {\n      this.setState({\n        ...this.state,\n        productList: this.props.products\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        productList: this.memoizedSortByIngredient(ingredientId)\n      });\n    }\n  }\n\n  //O(n) solution for search on ingredient\n  sortByIngredient(ingredient) {\n    const products = this.props.products;\n    //filter out producs that match ingredient id\n    let result = products.filter(p => {\n      return p.ingredient_ids.includes(ingredient);\n    });\n\n    return result;\n  }\n\n  //closure to implement cachce for sortByIngredient\n  memoize(func) {\n    let cache = {};\n    return function(...args) {\n      let key = JSON.stringify(...args);\n      console.log(\"cache\", cache);\n      if (cache[key]) {\n        console.log(\"Pulled from cache\");\n        return cache[key];\n      } else {\n        console.log(\"Pulled from sort function\");\n        cache[key] = func(...args);\n        return cache[key];\n      }\n    };\n  }\n\n  render() {\n    let productList = this.state.productList;\n\n    return (\n      <>\n        <SearchBar\n          ingredients={this.props.ingredients}\n          onSearchByIngredientsHandler={this.onSearchByIngredientsHandler}\n        ></SearchBar>\n        <CardList products={productList}></CardList>\n      </>\n    );\n  }\n}\n\nexport default Products;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport Products from \"./containers/Products/Products\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ingredients: [],\n      products: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"./ingredients.json\").then(res => {\n      this.setState({ ...this.state, ingredients: res.data.ingredients });\n    });\n    axios.get(\"./products.json\").then(res => {\n      this.setState({ ...this.state, products: res.data.products });\n    });\n  }\n\n  render() {\n    let productsContainer;\n\n    if (\n      this.state.products.length === 0 ||\n      this.state.ingredients.length === 0\n    ) {\n      productsContainer = <div>Loading...</div>;\n    } else {\n      productsContainer = (\n        <Products\n          products={this.state.products}\n          ingredients={this.state.ingredients}\n        ></Products>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>Daily Harvest Challenge</h1>\n        </header>\n\n        {/* Products container holds search bar and product list */}\n        {productsContainer}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}